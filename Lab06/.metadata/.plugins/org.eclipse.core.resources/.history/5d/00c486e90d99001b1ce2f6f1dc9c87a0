package hust.soict.globalict.aims.order;
import java.util.*;

import hust.soict.globalict.aims.media.DigitalVideoDisc;
import hust.soict.globalict.aims.media.Media;
import hust.soict.globalict.aims.utils.*;
public class Order {
	private ArrayList<Media> itemsOrdered = new ArrayList<Media>();
	public static final int MAX_NUMBERS_ORDERED = 10;
	private MyDate dateOrdered;
	public static final int MAX_LIMITED_ORDERS = 5;
	private static int nbOrders = 0;
	public void printOrder() {
		DigitalVideoDisc[] arr = new DigitalVideoDisc[itemsOrdered.size()];
		arr = itemsOrdered.toArray(arr);
		System.out.println("***********************Order***********************");
		System.out.println("Date: " + dateOrdered);
		System.out.println("Ordered items: ");
		for (int i=0; i< arr.length; i++) {
			if (arr[i].getCost() == 0) System.out.println(i+1 + "." + arr[i].getTitle() + "-" + arr[i].getCategory() + "-" + arr[i].getDirector() + "-" + arr[i].getLength() + ":" + arr[i].getCost() + "$" + " (Lucky DVD)");
			else System.out.println(i+1 + "." + arr[i].getTitle() + "-" + arr[i].getCategory() + "-" + arr[i].getDirector() + "-" + arr[i].getLength() + ":" + arr[i].getCost() + "$");
		}
		System.out.println("Total cost: " + totalCost());
	}
	public DigitalVideoDisc getALuckyItem() {
		int randomIndex = (int)(Math.random() * itemsOrdered.size());
		itemsOrdered.get(randomIndex).setCost(0.0f);
		return itemsOrdered.get(randomIndex);
	}
}
